:root{
  --bg:#dff6ff; --card:#fff; --ink:#1f2937; --muted:#6b7280;
  --accent:#4f46e5; --accent-weak:#e0e7ff; --danger:#dc2626; --ok:#059669; --border:#e5e7eb; --selected:#dbeafe;

  /* category palette */
  --cat1:#7BCDBA;  /* lightest */
  --cat2:#00CEC8;
  --cat3:#00A5A0;
  --cat4:#156064;  /* darkest */
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; padding:16px;
  font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;
  color:var(--ink); background:var(--bg);
}
.wrap{max-width:900px;margin:0 auto}

/* Header */
header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
h1{margin:0;font-size:28px}
.sub{color:var(--muted);font-size:14px}
.corner-actions{display:flex;align-items:center;gap:8px}

/* Chips & help */
.chip{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:var(--card);cursor:pointer}
.chip.spoiler{filter:blur(3px)} .chip.revealed{filter:none;background:var(--accent-weak)}
.help{cursor:pointer;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:var(--card)}

/* Panel & solved bars */
.panel{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px}
.solved{display:grid;gap:8px;margin:10px 0 14px}
.bar{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 12px;border:1px solid var(--border);border-radius:12px;
}
.bar .name{font-weight:600}
.bar .items{color:var(--muted);font-size:14px}

/* Fixed palette per group index */
.bar.group-0{background:var(--cat1);border-color:#66bfae;}
.bar.group-1{background:var(--cat2);border-color:#00b6b1;}
.bar.group-2{background:var(--cat3);border-color:#008f8a;color:#fff;}
.bar.group-2 .items{color:#e9fbfb;}
.bar.group-3{background:var(--cat4);border-color:#104e51;color:#fff;}
.bar.group-3 .items{color:#dcf7f6;}

/* Grid & tiles â€” keep 4 columns everywhere, shrink on small screens */
.grid{
  display:grid;
  grid-template-columns:repeat(4,minmax(0,1fr));
  gap:12px;
}
.cell{
  background:var(--card);border:2px solid var(--border);
  padding:clamp(8px,1.8vw,14px);
  border-radius:12px;text-align:center;cursor:pointer;
  min-height:clamp(44px,10.5vw,72px);
  display:flex;align-items:center;justify-content:center;
  user-select:none;
  font-size:clamp(12px,2.4vw,18px);
}
.cell.selected{background:var(--selected);border-color:#93c5fd}
.cell:focus{outline:3px solid var(--accent-weak);outline-offset:2px}

/* Controls (centered) */
.controls{display:flex;justify-content:center;align-items:center;gap:20px;margin:20px 0}

/* Secondary buttons */
.btn-secondary{
  background-color:#397ee6;color:#fff;font-size:18px;
  padding:12px 22px;border:3px solid #1e4979;border-radius:12px;cursor:pointer;
  font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;
  transition:background .2s ease,transform .2s ease,opacity .2s ease;
}
.btn-secondary:hover{background:#156064;transform:translateY(-2px)}
.btn-secondary:active{background:#104050;transform:translateY(0)}
.btn-secondary:disabled{opacity:.55;cursor:not-allowed;transform:none}

/* Fancy Submit button (blue) */
.button-border{border:8px solid #70b8ff;outline:4px solid;border-radius:100%;display:inline-block}
.button-base{background:#1c3d75;outline:2px solid #000;position:relative;border-radius:100%;display:inline-block}
.button{
  border-radius:100%;font-size:24px;outline:2px solid #000;border:4px solid;
  border-left-color:#b3d7f8;border-top-color:#c5e1f8;border-bottom-color:#14345e;border-right-color:#1e4979;
  background:#397ee6;cursor:pointer;color:#fff;padding:14px 24px;
  transform:translateY(-20%);transition:transform .2s ease,opacity .2s ease;
  font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;
}
.button:hover{transform:translateY(-10%)} .button:active{transform:translateY(0)}
.button:disabled{opacity:.55;cursor:not-allowed;transform:translateY(-20%) !important}

/* Status/footer */
.status{display:flex;justify-content:space-between;align-items:center;font-size:14px;color:var(--muted);min-height:24px}
.msg.ok{color:var(--ok)}
.footer{margin-top:14px;font-size:13px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
.linkish{color:var(--accent);text-decoration:underline;cursor:pointer}

/* Practice overlay */
#practiceMenu{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.15);z-index:50}
#practiceMenu.open{display:flex}
#practiceMenu .pmenu{
  background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;
  display:flex;gap:8px;flex-direction:column;min-width:260px;box-shadow:0 10px 24px rgba(0,0,0,.08);
}
#practiceMenu .pmenu .pmenu-title{font-weight:600;margin-bottom:6px}
#practiceMenu .pmenu button{
  padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:var(--card);cursor:pointer;
  font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;
}
#practiceMenu .pmenu button:hover{background:var(--accent-weak)}
#practiceMenu .pmenu .ghost{background:transparent}

/* Hearts (lives) with SVG */
.lives{display:flex;align-items:center;gap:10px}
.hearts{display:flex;gap:6px}
.heart{display:inline-block;width:22px;height:22px;color:#4dabb8;filter:drop-shadow(0 1px 0 rgba(0,0,0,.1))}
.heart.empty{opacity:.28}
.lives-numbers{color:var(--muted)}

/* Responsive tweaks (keep 4 columns; shrink sizes) */
@media (max-width:520px){
  body{padding:12px}
  .grid{gap:8px}
  .controls{gap:14px;margin:16px 0}
  .button{font-size:20px;padding:12px 20px;transform:translateY(-18%)}
  .btn-secondary{font-size:16px;padding:10px 18px}
}
@media (max-width:360px){
  .cell{min-height:42px;font-size:13px;padding:8px}
}

/* Reduced motion */
@media (prefers-reduced-motion:reduce){*{animation:none !important;transition:none !important}}
