:root{
  --bg:#dff6ff; --card:#fff; --ink:#1f2937; --muted:#6b7280;
  --accent:#156064; --accent-weak:#e0f7f7; --danger:#dc2626; --ok:#059669; --border:#e5e7eb; --selected:#dbeafe;
  /* category palette */
  --cat0:#7BCDBA; --cat1:#00CEC8; --cat2:#00A5A0; --cat3:#156064;
  --heart:#4dabb8;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; padding:16px;
  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;
  color:var(--ink); background:var(--bg);
}
.wrap{max-width:900px;margin:0 auto}

/* Header */
header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
h1{margin:0;font-size:28px;line-height:1;display:flex;align-items:center;gap:2px}
h1 .qmark{position:relative;display:inline-flex;align-items:center}
h1 .compass{width:14px;height:14px;margin-left:2px;color:var(--accent)}
.sub{color:var(--muted);font-size:14px}
.corner-actions{display:flex;align-items:center;gap:8px}

/* Chips & help */
.chip{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:var(--card);cursor:pointer}
.chip.spoiler{filter:blur(3px)} .chip.revealed{filter:none;background:var(--accent-weak)}
.help{cursor:pointer;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:var(--card)}

/* Panel & solved bars */
.panel{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px}
.solved{display:grid;gap:8px;margin:10px 0 14px}
.bar{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 12px;border:1px solid var(--border);border-radius:12px;
  background:#ecfdf5;
}
.bar .name{font-weight:700}
.bar .items{color:var(--muted);font-size:14px}

/* Subtle category gradients (οπτική ταυτότητα) */
.bar.group-0{background:linear-gradient(180deg, var(--cat0) 0%, #ffffff 130%)}
.bar.group-1{background:linear-gradient(180deg, var(--cat1) 0%, #ffffff 130%)}
.bar.group-2{background:linear-gradient(180deg, var(--cat2) 0%, #ffffff 130%)}
.bar.group-3{background:linear-gradient(180deg, var(--cat3) 0%, #ffffff 130%)}

/* Grid & tiles */
.grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px}
.cell{
  background:var(--card); border:2px solid var(--border);
  padding:14px; border-radius:12px; text-align:center; cursor:pointer;
  min-height:60px; display:flex; align-items:center; justify-content:center;
  user-select:none; transition:transform .05s ease;
}
.cell.selected{background:var(--selected); border-color:#93c5fd}
.cell:focus-visible{outline:3px solid #93c5fd; outline-offset:2px}
.cell.shake{animation:shake .25s ease}
@keyframes shake{
  10%,90%{transform:translateX(-2px)}
  20%,80%{transform:translateX(2px)}
  30%,50%,70%{transform:translateX(-4px)}
  40%,60%{transform:translateX(4px)}
}

/* Controls (centered) */
.controls{display:flex;justify-content:center;align-items:center;gap:20px;margin:20px 0}

/* Secondary buttons */
.btn-secondary{
  background:#397ee6;color:#fff;font-size:18px;padding:12px 22px;border:3px solid #1e4979;border-radius:12px;cursor:pointer;
  transition:background .2s ease, transform .2s ease, opacity .2s ease
}
.btn-secondary:hover{background:#156064;transform:translateY(-2px)}
.btn-secondary:active{background:#104050;transform:translateY(0)}
.btn-secondary:disabled{opacity:.55;cursor:not-allowed;transform:none}

/* Fancy Submit (blue) */
.button-border{border:8px solid #70b8ff;outline:4px solid;border-radius:100%;display:inline-block}
.button-base{background:#1c3d75;outline:2px solid black;position:relative;border-radius:100%;display:inline-block}
.button{
  border-radius:100%; font-size:24px; outline:2px solid black;
  border:4px solid; border-left-color:#b3d7f8;border-top-color:#c5e1f8;border-bottom-color:#14345e;border-right-color:#1e4979;
  background:#397ee6; cursor:pointer; color:#fff; padding:14px 24px; transform:translateY(-20%);
  transition:transform .2s ease, opacity .2s ease; font-family:"Century Gothic", CenturyGothic, AppleGothic, sans-serif;
}
.button:hover{transform:translateY(-10%)} .button:active{transform:translateY(0)}
.button:disabled{opacity:.55;cursor:not-allowed;transform:translateY(-20%)!important}

/* Status/footer */
.status{display:flex;justify-content:space-between;align-items:center;font-size:14px;color:var(--muted);min-height:24px}
.msg.ok{color:var(--ok)}
.footer{margin-top:14px;font-size:13px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
.linkish{color:#0d4a88;text-decoration:underline;cursor:pointer}

/* Hearts (lives) */
.lives{display:flex;align-items:center;gap:8px}
.lives .label{color:var(--muted)}
.hearts{display:flex;gap:6px}
.heart{font-size:22px;line-height:1;color:var(--heart);filter:drop-shadow(0 1px 0 rgba(0,0,0,0.08));user-select:none}
.heart.empty{color:#e5e7eb}

/* Practice overlay */
#practiceMenu{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.15);z-index:50
}
#practiceMenu.open{display:flex}
#practiceMenu .pmenu{
  background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;display:flex;gap:8px;flex-direction:column;min-width:260px;
  box-shadow:0 10px 24px rgba(0,0,0,0.08)
}
#practiceMenu .pmenu .pmenu-title{font-weight:600;margin-bottom:6px}
#practiceMenu .pmenu button{
  padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:var(--card);cursor:pointer
}
#practiceMenu .pmenu button:hover{background:var(--accent-weak)}
#practiceMenu .pmenu .ghost{background:transparent}

/* Onboarding */
#onboard{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.25);z-index:60
}
#onboard.open{display:flex}
.onboard-card{
  background:#fff;border:1px solid var(--border);border-radius:14px;padding:18px;max-width:420px;box-shadow:0 10px 24px rgba(0,0,0,.12)
}
.onboard-card h2{margin:0 0 10px}
.onboard-card ol{margin:0 0 12px 18px;padding:0}
.btn-primary{
  background:var(--accent);color:#fff;border:0;border-radius:10px;padding:10px 16px;cursor:pointer
}

/* Heatmap */
.heatmap{margin:18px 0 6px}
.hm-title{font-size:12px;color:var(--muted);margin-bottom:6px}
.hm-grid{display:grid;grid-template-columns:repeat(28,10px);gap:3px}
.hm-cell{width:10px;height:10px;border-radius:2px;background:#e5e7eb}
.hm-cell.win{background:#7BCDBA}
.hm-cell.fail{background:#EF476F}

/* Effects */
.celebrate{animation:gq-pop .22s ease}
@keyframes gq-pop{from{transform:scale(1)}70%{transform:scale(1.06)}to{transform:scale(1)}}
.gq-confetti{position:fixed;inset:0;pointer-events:none;z-index:999}

/* Responsive */
@media (max-width:520px){
  .grid{grid-template-columns:repeat(4,1fr)}
  .cell{min-height:48px;padding:10px;font-size:14px}
}
@media (max-width:390px){
  .grid{grid-template-columns:repeat(4,1fr)}
  .cell{min-height:42px;padding:8px;font-size:13px}
}

/* Reduced motion */
@media (prefers-reduced-motion:reduce){
  *{animation-duration:.001s !important; transition:none !important}
}
